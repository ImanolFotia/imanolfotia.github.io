<script src="//code.jquery.com/jquery.min.js"></script>
<script src="https://ttv-api.s3.amazonaws.com/twitch.min.js"></script>

<script>
	var clientID;
	function setClientId(){
		clientID = document.getElementById("cliV").value;
	}
	
  Twitch.init({clientId: clientID}, function(error, status) {
    // the sdk is now loaded
  });
</script>

<img src="http://ttv-api.s3.amazonaws.com/assets/connect_dark.png" class="twitch-connect" href="#" />
<script>
$('.twitch-connect').click(function() {
  Twitch.login({
    scope: ['user_read', 'channel_read']
  });
})

if (status.authenticated) {
  // Already logged in, hide button
  $('.twitch-connect').hide()
}

Twitch.init({clientId: clientID}, function(error, status) {
  if (error) {
    // error encountered while loading
    console.log(error);
  }
  // the sdk is now loaded
  if (status.authenticated) {
    // user is currently logged in
  }
});

Twitch.api({method: 'channel'}, function(error, channel) {
  console.log(channel.stream_key);
});

Twitch.getStatus(function(err, status) {
  if (status.authenticated) {
    console.log('authenticated!');
  }
});
</script>


<input type="input" id="cliV" name="cliV" value="">
<input type="button" name="Submit" value="INPUT" onclick="setClientId();" />